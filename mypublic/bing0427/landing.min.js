/**
 * Landing.js v0.1.0
 * https://github.com/vah7id/landing.js
 * MIT licensed
 *
 * Copyright (C) 2014 Vahid Taghizadeh (@vah7id)
 */

var LandingJs={option:{_slide:false,_slideCount:null,_CountDown:false,_CountDownDate:null,_brand:"Untitled",_description:"No Description entered as config",_breif:null,_images:[]},currentSlider:0,maxSliderCount:5,start:function(a){LandingJs._bingRequest(LandingJs.option._slideCount);LandingJs._setOptions(a);LandingJs._setContents()},_setOptions:function(a){console.log(a.slideCount);LandingJs.option[0]=a.slide;LandingJs.option[1]=a.slideCount;LandingJs.option[2]=a.countdown;LandingJs.option[3]=a.countdownTime;LandingJs.option[4]=a.brand;LandingJs.option[5]=a.description;LandingJs.option[6]=a.brief},_setContents:function(){var a=document.getElementById("container");a.getElementsByTagName("h1")[0].innerHTML=LandingJs.option[4];a.getElementsByTagName("h4")[0].innerHTML=LandingJs.option[5];document.getElementById("brief").innerHTML=LandingJs.option[6];var e=LandingJs.option[3].split(",")[0];var f=LandingJs.option[3].split(",")[1];var b=LandingJs.option[3].split(",")[2];if(LandingJs.option[2]){var d=setInterval(function(){var m=countdown(new Date(e,f,b)).toString();var h=document.getElementById("countdown");var n=m.split(",");var g="";for(var j=0;j<n.length;j++){var l=n[j].split(" ")[0];var k=n[j].split(" ")[1];if(k!="hours"){g=g+"<p><b>"+l+"</b><br /><span> "+k+"</span></p>"}}h.innerHTML=g},1000)}if(LandingJs.option[0]){var c=setInterval(function(){var h="bing.com/"+LandingJs.option._images[LandingJs.currentSlider].getElementsByTagName("url")[0].innerHTML;var i=LandingJs.option._images[LandingJs.currentSlider].getElementsByTagName("copyright")[0].innerHTML;var g=document.getElementById("blur");g.style.backgroundImage='url("http://'+h+'")';document.getElementById("copyright").innerHTML=i;LandingJs.currentSlider++;if(LandingJs.currentSlider>=LandingJs.option[1]){LandingJs.currentSlider=0}},8000)}},_bingRequest:function(b){var a=LandingJs._urlGenerator();LandingJs._loadXMLDoc(a)},_urlGenerator:function(){return"data/bing.xml"},_loadXMLDoc:function(a){var b;if(window.XMLHttpRequest){b=new XMLHttpRequest()}else{b=new ActiveXObject("Microsoft.XMLHTTP")}b.onreadystatechange=function(){if(b.readyState==4&&b.status==200){var d=b.responseXML.getElementsByTagName("images");for(var g=0;g<d[0].childNodes.length;g++){LandingJs.option._images[g]=d[0].childNodes[g]}var e="bing.com/"+d[0].getElementsByTagName("url")[0].innerHTML;var f=d[0].getElementsByTagName("copyright")[0].innerHTML;var c=document.getElementById("blur");document.getElementById("container").style.minHeight=window.innerHeight-70+"px";c.style.backgroundImage='url("http://'+e+'")';document.getElementById("copyright").innerHTML=f}};b.open("GET",a,true);b.send()}};